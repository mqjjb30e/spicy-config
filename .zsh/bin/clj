#!/usr/bin/env zsh
BREAK_CHARS="(){}[],^%$#@\"\";:''|\\"
CLOJURE_DIR=~/Projects/clojure/clojure-source
CLOJURE_CONTRIB_DIR=~/Projects/clojure/clojure-contrib
CLOJURE_JAR=$CLOJURE_DIR/clojure.jar
CLOJURE_CONTRIB_JAR=$CLOJURE_DIR/clojure-contrib.jar

if [ $# -eq 0 ]; then 
     rlwrap --remember -c -b $BREAK_CHARS -f $HOME/.clj_completions \
     java -cp $CLOJURE_JAR:$CLOJURE_CONTRIB_JAR clojure.lang.Repl
else
     java -cp $CLOJURE_JAR:$CLOJURE_CONTRIB_JAR clojure.lang.Script $1 -- $@
fi

